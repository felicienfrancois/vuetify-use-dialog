(function(d,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("vuetify"),require("vuetify/components"),require("vuetify/lib/components/VCard/index.mjs"),require("vuetify/lib/components/VTextField/index.mjs")):typeof define=="function"&&define.amd?define(["exports","vue","vuetify","vuetify/components","vuetify/lib/components/VCard/index.mjs","vuetify/lib/components/VTextField/index.mjs"],e):(d=typeof globalThis<"u"?globalThis:d||self,e(d["vuetify-use-dialog"]={},d.Vue,d.Vuetify,d.components,d.index_mjs,d.index_mjs$1))})(this,function(d,e,y,f,x,V){"use strict";function C(t){if(t===null||typeof t!="object")return!1;const n=Object.getPrototypeOf(t);return n!==null&&n!==Object.prototype&&Object.getPrototypeOf(n)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function p(t,n,o=".",l){if(!C(n))return p(t,{},o,l);const i=Object.assign({},n);for(const a in t){if(a==="__proto__"||a==="constructor")continue;const r=t[a];r!=null&&(l&&l(i,a,r,o)||(Array.isArray(r)&&Array.isArray(i[a])?i[a]=[...r,...i[a]]:C(r)&&C(i[a])?i[a]=p(r,i[a],(o?`${o}.`:"")+a.toString(),l):i[a]=r))}return i}function h(t){return(...n)=>n.reduce((o,l)=>p(o,l,"",t),{})}const P=h(),B=e.defineComponent({__name:"Dialog",props:{component:{type:Object,required:!0},componentProps:{type:Object,required:!1},dialogProps:{type:Object,required:!1},theme:{type:String,required:!0},resolve:{type:Function,required:!0}},setup(t){const n=t,o=e.ref(!0);function l(a){n.resolve(a),o.value=!1}function i(a){a||e.nextTick(()=>{n.resolve(!1)})}return(a,r)=>(e.openBlock(),e.createBlock(e.unref(f.VThemeProvider),{theme:t.theme},{default:e.withCtx(()=>[e.createVNode(e.unref(f.VDialog),e.mergeProps(t.dialogProps,{modelValue:o.value,"onUpdate:modelValue":[r[1]||(r[1]=c=>o.value=c),i]}),{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.component),e.mergeProps(t.componentProps,{isActive:o.value,"onUpdate:isActive":r[0]||(r[0]=c=>o.value=c),onClose:l}),null,16,["isActive"]))]),_:1},16,["modelValue"])]),_:1},8,["theme"]))}}),j=e.defineComponent({__name:"ConfirmDialog",props:{title:{type:String,required:!1,default:"Are you sure?"},titleComponent:{type:Object,required:!1},titleComponentProps:{type:Object,required:!1},content:{type:String,required:!1,default:""},contentComponent:{type:Object,required:!1},contentComponentProps:{type:Object,required:!1},confirmationKeyword:{type:String,required:!1},confirmationKeywordTextFieldProps:{type:Object,required:!1,default:()=>({})},confirmationText:{type:String,required:!1,default:"Ok"},cancellationText:{type:String,required:!1,default:"Cancel"},dialogProps:{type:Object,required:!1,default:()=>({})},cardProps:{type:Object,required:!1,default:()=>({})},cardTitleProps:{type:Object,required:!1,default:()=>({})},cardTextProps:{type:Object,required:!1,default:()=>({})},cardActionsProps:{type:Object,required:!1,default:()=>({})},actionsContentComponent:{type:Object,required:!1},cancellationButtonProps:{type:Object,required:!1,default:()=>({})},confirmationButtonProps:{type:Object,required:!1,default:()=>({})},theme:{type:String,required:!0},resolve:{type:Function,required:!0}},setup(t){const n=t,o=e.ref(!0),l=e.ref(null),i=e.ref("");function a(){n.resolve(!0),o.value=!1}function r(){n.resolve(!1),o.value=!1}e.onMounted(()=>{var m;(m=l.value)==null||m.focus()});const c=e.computed(()=>n.confirmationKeyword?n.confirmationKeyword!==i.value:!1);function s(m){m||e.nextTick(()=>{n.resolve(!1)})}return(m,u)=>(e.openBlock(),e.createBlock(e.unref(f.VThemeProvider),{theme:t.theme},{default:e.withCtx(()=>[e.createVNode(e.unref(f.VDialog),e.mergeProps(t.dialogProps,{modelValue:o.value,"onUpdate:modelValue":[u[1]||(u[1]=g=>o.value=g),s]}),{default:e.withCtx(()=>[e.createVNode(e.unref(f.VCard),e.normalizeProps(e.guardReactiveProps(t.cardProps)),{default:e.withCtx(()=>[t.titleComponent?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.titleComponent),e.normalizeProps(e.mergeProps({key:0},t.titleComponentProps)),null,16)):(e.openBlock(),e.createBlock(x.VCardTitle,e.normalizeProps(e.mergeProps({key:1},t.cardTitleProps)),{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.title),1)]),_:1},16)),e.createVNode(e.unref(f.VCardText),e.normalizeProps(e.guardReactiveProps(t.cardTextProps)),{default:e.withCtx(()=>[t.contentComponent?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.contentComponent),e.normalizeProps(e.mergeProps({key:0},t.contentComponentProps)),null,16)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.content?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(t.content),1)],64)):e.createCommentVNode("",!0),t.confirmationKeyword?(e.openBlock(),e.createBlock(V.VTextField,e.mergeProps({key:1,ref_key:"textFieldInput",ref:l,modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=g=>i.value=g)},t.confirmationKeywordTextFieldProps,{variant:"underlined"}),null,16,["modelValue"])):e.createCommentVNode("",!0)],64))]),_:1},16),e.createVNode(e.unref(f.VCardActions),e.normalizeProps(e.guardReactiveProps(t.cardActionsProps)),{default:e.withCtx(()=>[t.actionsContentComponent?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.actionsContentComponent),{key:0,"confirmation-button-disabled":c.value,cancel:r,confirm:a},null,8,["confirmation-button-disabled"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(e.unref(f.VSpacer)),e.createVNode(e.unref(f.VBtn),e.mergeProps(t.cancellationButtonProps,{onClick:r}),{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.cancellationText),1)]),_:1},16),e.createVNode(e.unref(f.VBtn),e.mergeProps({color:"primary",disabled:c.value},t.confirmationButtonProps,{onClick:a}),{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.confirmationText),1)]),_:1},16,["disabled"])],64))]),_:1},16)]),_:1},16)]),_:1},16,["modelValue"])]),_:1},8,["theme"]))}}),q=e.defineComponent({__name:"Snackbar",props:{text:{type:String,required:!1,default:""},contentComponent:{type:Object,required:!1},snackbarProps:{type:Object,required:!1,default:()=>({})},showCloseButton:{type:Boolean,required:!1,default:!0},closeButtonProps:{type:Object,required:!1,default:()=>({})},closeButtonText:{type:String,required:!1,default:"Close"},theme:{type:String,required:!0}},emits:["close"],setup(t,{emit:n}){const o=t,l=n,i=e.ref(!0),a=e.computed(()=>({...o.snackbarProps,onAfterLeave(){var r,c;(c=(r=o.snackbarProps).onAfterLeave)==null||c.call(r),l("close")}}));return(r,c)=>(e.openBlock(),e.createBlock(e.unref(f.VThemeProvider),{theme:t.theme},{default:e.withCtx(()=>[e.createVNode(e.unref(f.VSnackbar),e.mergeProps(a.value,{modelValue:i.value,"onUpdate:modelValue":c[1]||(c[1]=s=>i.value=s)}),e.createSlots({default:e.withCtx(()=>[t.contentComponent?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.contentComponent),{key:0})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.text),1)],64))]),_:2},[t.showCloseButton?{name:"actions",fn:e.withCtx(()=>[e.createVNode(e.unref(f.VBtn),e.mergeProps({variant:"text",text:t.closeButtonText},t.closeButtonProps,{onClick:c[0]||(c[0]=s=>i.value=!1)}),null,16,["text"])]),key:"0"}:void 0]),1040,["modelValue"])]),_:1},8,["theme"]))}});function k(t,n,o,l){const i=e.createVNode(t,{key:Math.random(),...n});return o&&o._context&&(i.appContext=o._context),l?(o._container.appendChild(l),e.render(i,l)):e.render(i,o._container.firstElementChild),{vNode:i}}const b={install(t,n){const o=document.createElement("div");function l(r){return new Promise(c=>new Promise(s=>{k(B,{...P(r,(n==null?void 0:n.dialog)??{}),resolve:s},t,o)}).then(s=>{t._container.removeChild(o),e.render(null,o),c(s)}))}function i(r){const c=document.createElement("div");return new Promise(s=>new Promise(m=>{k(j,{...P(r,(n==null?void 0:n.confirmDialog)??{}),resolve:m},t,c)}).then(m=>{t._container.removeChild(c),e.render(null,c),s(m)}))}function a(r){const c=document.createElement("div");k(q,{...P(r,(n==null?void 0:n.snackbar)??{}),onClose(){t._container.removeChild(c),e.render(null,c)}},t,c)}t.provide("ConfirmDialogKey",{mountDialog:l,mountConfirmDialog:i,mountSnackbar:a}),t.config.globalProperties.$dialog=r=>l(r),t.config.globalProperties.$confirm=r=>i(r),t.config.globalProperties.$toast=r=>a(r)}};function T(){const t=e.inject("ConfirmDialogKey"),n=y.useTheme();function o(l){if(!t)throw new Error("Missing dialog instance");return t.mountDialog({theme:n.name.value,...l})}return o}function w(){const t=e.inject("ConfirmDialogKey"),n=y.useTheme();function o(l){if(!t)throw new Error("Missing dialog instance");return t.mountConfirmDialog({theme:n.name.value,...l})}return o}function S(){const t=e.inject("ConfirmDialogKey"),n=y.useTheme();function o(l){if(!t)throw new Error("Missing dialog instance");return t.mountSnackbar({theme:n.name.value,...l})}return o}d.default=b,d.useConfirm=w,d.useDialog=T,d.useSnackbar=S,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});

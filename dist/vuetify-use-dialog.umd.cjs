(function(d,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("vuetify"),require("vuetify/components"),require("vuetify/lib/components/VCard/index.mjs"),require("vuetify/lib/components/VTextField/index.mjs")):typeof define=="function"&&define.amd?define(["exports","vue","vuetify","vuetify/components","vuetify/lib/components/VCard/index.mjs","vuetify/lib/components/VTextField/index.mjs"],e):(d=typeof globalThis<"u"?globalThis:d||self,e(d["vuetify-use-dialog"]={},d.Vue,d.Vuetify,d.components,d.index_mjs,d.index_mjs$1))})(this,function(d,e,y,f,x,V){"use strict";function C(t){if(t===null||typeof t!="object")return!1;const n=Object.getPrototypeOf(t);return n!==null&&n!==Object.prototype&&Object.getPrototypeOf(n)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function p(t,n,o=".",a){if(!C(n))return p(t,{},o,a);const l=Object.assign({},n);for(const r in t){if(r==="__proto__"||r==="constructor")continue;const i=t[r];i!=null&&(a&&a(l,r,i,o)||(Array.isArray(i)&&Array.isArray(l[r])?l[r]=[...i,...l[r]]:C(i)&&C(l[r])?l[r]=p(i,l[r],(o?`${o}.`:"")+r.toString(),a):l[r]=i))}return l}function h(t){return(...n)=>n.reduce((o,a)=>p(o,a,"",t),{})}const P=h(),B=e.defineComponent({__name:"Dialog",props:{component:{type:Object,required:!0},componentProps:{type:Object,required:!1},dialogProps:{type:Object,required:!1},theme:{type:String,required:!0},resolve:{type:Function,required:!0}},setup(t){const n=t,o=e.ref(!0);function a(r){n.resolve(r),o.value=!1}function l(r){r||e.nextTick(()=>{n.resolve(!1)})}return(r,i)=>(e.openBlock(),e.createBlock(e.unref(f.VThemeProvider),{theme:t.theme},{default:e.withCtx(()=>[e.createVNode(e.unref(f.VDialog),e.mergeProps(t.dialogProps,{modelValue:o.value,"onUpdate:modelValue":[i[1]||(i[1]=c=>o.value=c),l]}),{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.component),e.mergeProps(t.componentProps,{isActive:o.value,"onUpdate:isActive":i[0]||(i[0]=c=>o.value=c),onClose:a}),null,16,["isActive"]))]),_:1},16,["modelValue"])]),_:1},8,["theme"]))}}),j=e.defineComponent({__name:"ConfirmDialog",props:{title:{type:String,required:!1,default:"Are you sure?"},titleComponent:{type:Object,required:!1},titleComponentProps:{type:Object,required:!1},content:{type:String,required:!1,default:""},contentComponent:{type:Object,required:!1},contentComponentProps:{type:Object,required:!1},confirmationKeyword:{type:String,required:!1},confirmationKeywordTextFieldProps:{type:Object,required:!1,default:()=>({})},confirmationText:{type:String,required:!1,default:"Ok"},cancellationText:{type:String,required:!1,default:"Cancel"},dialogProps:{type:Object,required:!1,default:()=>({})},cardProps:{type:Object,required:!1,default:()=>({})},cardTitleProps:{type:Object,required:!1,default:()=>({})},cardTextProps:{type:Object,required:!1,default:()=>({})},cardActionsProps:{type:Object,required:!1,default:()=>({})},actionsContentComponent:{type:Object,required:!1},cancellationButtonProps:{type:Object,required:!1,default:()=>({})},confirmationButtonProps:{type:Object,required:!1,default:()=>({})},theme:{type:String,required:!0},resolve:{type:Function,required:!0}},setup(t){const n=t,o=e.ref(!0),a=e.ref(null),l=e.ref("");function r(){n.resolve(!0),o.value=!1}function i(){n.resolve(!1),o.value=!1}e.onMounted(()=>{var s;(s=a.value)==null||s.focus()});const c=e.computed(()=>n.confirmationKeyword?n.confirmationKeyword!==l.value:!1);function m(s){s||e.nextTick(()=>{n.resolve(!1)})}return(s,u)=>(e.openBlock(),e.createBlock(e.unref(f.VThemeProvider),{theme:t.theme},{default:e.withCtx(()=>[e.createVNode(e.unref(f.VDialog),e.mergeProps(t.dialogProps,{modelValue:o.value,"onUpdate:modelValue":[u[1]||(u[1]=g=>o.value=g),m]}),{default:e.withCtx(()=>[e.createVNode(e.unref(f.VCard),e.normalizeProps(e.guardReactiveProps(t.cardProps)),{default:e.withCtx(()=>[t.titleComponent?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.titleComponent),e.normalizeProps(e.mergeProps({key:0},t.titleComponentProps)),null,16)):(e.openBlock(),e.createBlock(x.VCardTitle,e.normalizeProps(e.mergeProps({key:1},t.cardTitleProps)),{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.title),1)]),_:1},16)),e.createVNode(e.unref(f.VCardText),e.normalizeProps(e.guardReactiveProps(t.cardTextProps)),{default:e.withCtx(()=>[t.contentComponent?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.contentComponent),e.normalizeProps(e.mergeProps({key:0},t.contentComponentProps)),null,16)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.content?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(t.content),1)],64)):e.createCommentVNode("",!0),t.confirmationKeyword?(e.openBlock(),e.createBlock(V.VTextField,e.mergeProps({key:1,ref_key:"textFieldInput",ref:a,modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=g=>l.value=g)},t.confirmationKeywordTextFieldProps,{variant:"underlined"}),null,16,["modelValue"])):e.createCommentVNode("",!0)],64))]),_:1},16),e.createVNode(e.unref(f.VCardActions),e.normalizeProps(e.guardReactiveProps(t.cardActionsProps)),{default:e.withCtx(()=>[t.actionsContentComponent?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.actionsContentComponent),{key:0,"confirmation-button-disabled":c.value,cancel:i,confirm:r},null,8,["confirmation-button-disabled"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(e.unref(f.VSpacer)),e.createVNode(e.unref(f.VBtn),e.mergeProps(t.cancellationButtonProps,{onClick:i}),{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.cancellationText),1)]),_:1},16),e.createVNode(e.unref(f.VBtn),e.mergeProps({color:"primary",disabled:c.value},t.confirmationButtonProps,{onClick:r}),{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.confirmationText),1)]),_:1},16,["disabled"])],64))]),_:1},16)]),_:1},16)]),_:1},16,["modelValue"])]),_:1},8,["theme"]))}}),q=e.defineComponent({__name:"Snackbar",props:{text:{type:String,required:!1,default:""},contentComponent:{type:Object,required:!1},snackbarProps:{type:Object,required:!1,default:()=>({})},showCloseButton:{type:Boolean,required:!1,default:!0},closeButtonProps:{type:Object,required:!1,default:()=>({})},closeButtonText:{type:String,required:!1,default:"Close"},theme:{type:String,required:!0}},emits:["close"],setup(t,{emit:n}){const o=t,a=n,l=e.ref(!0),r=e.computed(()=>({...o.snackbarProps,onAfterLeave(){var i,c;(c=(i=o.snackbarProps).onAfterLeave)==null||c.call(i),a("close")}}));return(i,c)=>(e.openBlock(),e.createBlock(e.unref(f.VThemeProvider),{theme:t.theme},{default:e.withCtx(()=>[e.createVNode(e.unref(f.VSnackbar),e.mergeProps(r.value,{modelValue:l.value,"onUpdate:modelValue":c[1]||(c[1]=m=>l.value=m)}),e.createSlots({default:e.withCtx(()=>[t.contentComponent?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.contentComponent),{key:0})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.text),1)],64))]),_:2},[t.showCloseButton?{name:"actions",fn:e.withCtx(()=>[e.createVNode(e.unref(f.VBtn),e.mergeProps({variant:"text",text:t.closeButtonText},t.closeButtonProps,{onClick:c[0]||(c[0]=m=>l.value=!1)}),null,16,["text"])]),key:"0"}:void 0]),1040,["modelValue"])]),_:1},8,["theme"]))}});function k(t,n,o,a){const l=e.createVNode(t,{key:Math.random(),...n});return o&&o._context&&(l.appContext=o._context),a?(o._container.appendChild(a),e.render(l,a)):e.render(l,o._container.firstElementChild),{vNode:l}}const b={install(t,n){function o(r){return new Promise(i=>new Promise(c=>{k(B,{...P(r,(n==null?void 0:n.dialog)??{}),resolve:c},t)}).then(c=>{e.render(null,t._container.firstElementChild),i(c)}))}function a(r){return new Promise(i=>new Promise(c=>{k(j,{...P(r,(n==null?void 0:n.confirmDialog)??{}),resolve:c},t)}).then(c=>{e.render(null,t._container.firstElementChild),i(c)}))}function l(r){const i=document.createElement("div");k(q,{...P(r,(n==null?void 0:n.snackbar)??{}),onClose(){t._container.removeChild(i),e.render(null,i)}},t,i)}t.provide("ConfirmDialogKey",{mountDialog:o,mountConfirmDialog:a,mountSnackbar:l}),t.config.globalProperties.$dialog=r=>o(r),t.config.globalProperties.$confirm=r=>a(r),t.config.globalProperties.$toast=r=>l(r)}};function T(){const t=e.inject("ConfirmDialogKey"),n=y.useTheme();function o(a){if(!t)throw new Error("Missing dialog instance");return t.mountDialog({theme:n.name.value,...a})}return o}function w(){const t=e.inject("ConfirmDialogKey"),n=y.useTheme();function o(a){if(!t)throw new Error("Missing dialog instance");return t.mountConfirmDialog({theme:n.name.value,...a})}return o}function S(){const t=e.inject("ConfirmDialogKey"),n=y.useTheme();function o(a){if(!t)throw new Error("Missing dialog instance");return t.mountSnackbar({theme:n.name.value,...a})}return o}d.default=b,d.useConfirm=w,d.useDialog=T,d.useSnackbar=S,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
